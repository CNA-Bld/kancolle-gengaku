{% extends "base.html" %}

{% block additional_css %}{% endblock %}

{% block additional_js %}{% endblock %}

{% block main_body %}

    <div class="panel panel-default">
        <div class="panel-heading">
            普通建造
        </div>
        <div class="panel-body table-responsive">
            {% if results.general %}
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>油</th>
                        <th>弹</th>
                        <th>钢</th>
                        <th>铝</th>
                        <th>资材</th>
                        <th>出货率</th>
                        <th>总出货数</th>
                        <th>公式使用数</th>
                        {% for id, name in target_ships|dictsort %}
                            <th>{{ name }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for recipe in results.general %}
                        <tr>
                        <td>{{ recipe.resource[0] }}</td><td>{{ recipe.resource[1] }}</td><td>{{ recipe.resource[2] }}</td><td>{{ recipe.resource[3] }}</td><td>{{ recipe.resource[4] }}</td>
                        <td>{{ (recipe.probability*100)|round(6) }}%</td><td>{{ recipe.succ_sum }}</td><td>{{ recipe.sum }}</td>
                        {% for id, name in target_ships|dictsort %}
                            <td>{{ recipe.succ_individual[id] }}</td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>普建赌不出来的呀。</p>
            {% endif %}
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            巨型建造
        </div>
        <div class="panel-body table-responsive">
            {% if results.large %}
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th>油</th>
                        <th>弹</th>
                        <th>钢</th>
                        <th>铝</th>
                        <th>资材</th>
                        <th>出货率</th>
                        <th>总出货数</th>
                        <th>公式使用数</th>
                        {% for id, name in target_ships|dictsort %}
                            <th>{{ name }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for recipe in results.large %}
                        <tr>
                        <td>{{ recipe.resource[0] }}</td><td>{{ recipe.resource[1] }}</td><td>{{ recipe.resource[2] }}</td><td>{{ recipe.resource[3] }}</td><td>{{ recipe.resource[4] }}</td>
                        <td>{{ (recipe.probability*100)|round(6) }}%</td><td>{{ recipe.succ_sum }}</td><td>{{ recipe.sum }}</td>
                        {% for id, name in target_ships|dictsort %}
                            <td>{{ recipe.succ_individual[id] }}</td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>大建赌不出来的呀。</p>
            {% endif %}
        </div>
    </div>

{% endblock %}
